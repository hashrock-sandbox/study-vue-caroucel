{"version":3,"sources":["webpack:///caroucel.vue","webpack:///./caroucel.vue?028c","webpack:///./caroucel.vue"],"names":["globalLeave","mod","n","m","selectortype_script_index_0_caroucel","length","getBoundingClientRect","left","x","offset","_this","this","pageIndex","_this2","stopDrag","render","_vm","_h","$createElement","_c","_self","on","pointerleave","pointerup","pointermove","onDrag","staticClass","pointerdown","startDrag","style","domProps","innerHTML","_s","page","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__"],"mappings":"gHAaA,IAAAA,EACA,SAAAC,EAAAC,EAAAC,iBAEAA,EAEA,IAAAC,gCAIA,SACA,OACA,SACA,WACA,YACA,SAQA,4YAMA,yBAEA,qDAIA,2FAKAC,sDAGAC,sCACAC,gBACA,cACAC,mCAGA,uBACAF,sCACAC,sBACAE,6BAGA,IAAAC,EAAAC,iCAEA,gBACA,0BAEAC,qBACA,aACA,GACA,oCAGA,gBACA,0BAEAA,qBACA,aACA,GACA,iBAEA,gBACA,cACA,YACA,mCAEA,GACA,0BAGA,IAAAC,EAAAF,kEAEAG,wFAIAd,KCrGAe,EAAA,WAA0B,IAAAC,EAAAL,KAAaM,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAIC,aAAAN,EAAAF,SAAAS,UAAAP,EAAAF,SAAAU,YAAAR,EAAAS,UAA+EN,EAAA,OAAYO,YAAA,UAAAL,IAA0BM,YAAAX,EAAAY,aAA6BT,EAAA,OAAYO,YAAA,QAAAG,MAAAb,EAAA,YAA0CG,EAAA,OAAYO,YAAA,YAAAI,UAAkCC,UAAAf,EAAAgB,GAAAhB,EAAAiB,MAAA,OAAkCd,EAAA,OAAYO,YAAA,YAAAI,UAAkCC,UAAAf,EAAAgB,GAAAhB,EAAAiB,KAAA,OAAiCd,EAAA,OAAYO,YAAA,YAAAI,UAAkCC,UAAAf,EAAAgB,GAAAhB,EAAAiB,KAAA,cACngBC,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,KAEAC,EAAA,KAEAC,EAAAC,OAAAC,EAAA,KAAAD,CACAvC,EACAW,EACAmB,EACAI,EACAC,EACAC,EACAC,GAGAI,EAAA,KAAAH,EAAA","file":"js/app.b7414ec8.js","sourcesContent":["<template>\n  <div @pointerleave=\"stopDrag\" @pointerup=\"stopDrag\"  @pointermove=\"onDrag\">\n    <div class=\"wrapper\" @pointerdown=\"startDrag\" >\n      <div class=\"group\" :style=\"currStyle\">\n        <div class=\"item prev\" v-html=\"page(-1)\"></div>\n        <div class=\"item curr\" v-html=\"page(0)\"></div>\n        <div class=\"item next\" v-html=\"page(1)\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nlet globalLeave;\nfunction mod(n, m) {\n  return (n % m + m) % m;\n}\n\nexport default {\n  data() {\n    return {\n      drag: false,\n      offset: 0,\n      move: 0,\n      target: 0,\n      animate: false,\n      pageIndex: 1,\n      pages: [\n        `<div class=\"page\" style=\"background: #FAA;\">Page 1</div>`,\n        `<div class=\"page\" style=\"background: #AFA;\">Page 2</div>`,\n        `<div class=\"page\" style=\"background: #AAF;\">Page 3</div>`,\n        `<div class=\"page\" style=\"background: #FFA;\">Page 4</div>`,\n        `<div class=\"page\" style=\"background: #AFF;\">Page 5</div>`\n      ]\n    };\n  },\n  computed: {\n    currStyle() {\n      if (this.animate) {\n        return {\n          transform: `translate(${this.target * 400 - 400}px, 0)`,\n          transition: \"all 0.5s\"\n        };\n      }\n      return {\n        transform: `translate(${this.move - 400}px, 0)`\n      };\n    }\n  },\n  methods: {\n    page(index) {\n      return this.pages[mod(this.pageIndex + index, this.pages.length)];\n    },\n    startDrag(e) {\n      var target_rect = e.currentTarget.getBoundingClientRect();\n      var x = e.clientX - target_rect.left;\n      this.drag = true;\n      this.offset = x;\n    },\n    onDrag(e) {\n      if (this.drag) {\n        var target_rect = e.currentTarget.getBoundingClientRect();\n        var x = e.clientX - target_rect.left;\n        this.move = x - this.offset;\n      }\n    },\n    stopDrag() {\n      if (this.move > 100) {\n        this.target = 1;\n        this.animate = true;\n        setTimeout(() => {\n          this.pageIndex--;\n          this.target = 0;\n          this.animate = false;\n        }, 500);\n      }\n      if (this.move < -100) {\n        this.target = -1;\n        this.animate = true;\n        setTimeout(() => {\n          this.pageIndex++;\n          this.target = 0;\n          this.animate = false;\n        }, 500);\n      }\n      this.drag = false;\n      this.animate = true;\n      this.offset = 0;\n      this.move = 0;\n      setTimeout(() => {\n        this.animate = false;\n      }, 500);\n    }\n  },\n  mounted() {\n    globalLeave = document.body.addEventListener(\"pointerleave\", () => {\n      this.stopDrag();\n    });\n  },\n  beforeDestroy() {\n    document.body.removeEventListener(\"pointerleave\", globalLeave);\n  }\n};\n</script>\n\n<style>\n.wrapper {\n  overflow: hidden;\n  background: #333;\n  width: 400px;\n  height: 300px;\n  position: relative;\n  touch-action: none;\n}\n.item {\n  width: 400px;\n  height: 300px;\n  position: absolute;\n  user-select: none;\n}\n.page {\n  border: 4px solid #333;\n  height: 100%;\n  background: white;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2rem;\n  font-weight: 900;\n  color: #333;\n}\n\n.prev {\n  left: 0%;\n}\n.curr {\n  left: 100%;\n}\n.next {\n  left: 200%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// caroucel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"pointerleave\":_vm.stopDrag,\"pointerup\":_vm.stopDrag,\"pointermove\":_vm.onDrag}},[_c('div',{staticClass:\"wrapper\",on:{\"pointerdown\":_vm.startDrag}},[_c('div',{staticClass:\"group\",style:(_vm.currStyle)},[_c('div',{staticClass:\"item prev\",domProps:{\"innerHTML\":_vm._s(_vm.page(-1))}}),_c('div',{staticClass:\"item curr\",domProps:{\"innerHTML\":_vm._s(_vm.page(0))}}),_c('div',{staticClass:\"item next\",domProps:{\"innerHTML\":_vm._s(_vm.page(1))}})])])])}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// C:/Users/hashe/AppData/Roaming/npm/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-684193f2\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!C:/Users/hashe/AppData/Roaming/npm/node_modules/@vue/cli-service-global/node_modules/vue-loader/lib/selector.js?type=template&index=0!./caroucel.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\extract-text-webpack-plugin\\\\dist\\\\loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\style-compiler\\\\index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\selector?type=styles&index=0!./caroucel.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"T:\\\\\\\\home\\\\\\\\study\\\\\\\\study-vue-caroucel\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader?{\\\"presets\\\":[\\\"C:\\\\\\\\Users\\\\\\\\hashe\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\npm\\\\\\\\node_modules\\\\\\\\@vue\\\\\\\\cli-service-global\\\\\\\\node_modules\\\\\\\\@vue\\\\\\\\babel-preset-app\\\\\\\\index.js\\\"]}!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\selector?type=script&index=0!./caroucel.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"T:\\\\\\\\home\\\\\\\\study\\\\\\\\study-vue-caroucel\\\\\\\\node_modules\\\\\\\\.cache\\\\\\\\cache-loader\\\"}!babel-loader?{\\\"presets\\\":[\\\"C:\\\\\\\\Users\\\\\\\\hashe\\\\\\\\AppData\\\\\\\\Roaming\\\\\\\\npm\\\\\\\\node_modules\\\\\\\\@vue\\\\\\\\cli-service-global\\\\\\\\node_modules\\\\\\\\@vue\\\\\\\\babel-preset-app\\\\\\\\index.js\\\"]}!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\selector?type=script&index=0!./caroucel.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\template-compiler\\\\index?{\\\"id\\\":\\\"data-v-684193f2\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\selector?type=template&index=0!./caroucel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!C:\\\\Users\\\\hashe\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\@vue\\\\cli-service-global\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./caroucel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}